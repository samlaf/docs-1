"use strict";(self.webpackChunkcelestia_docs=self.webpackChunkcelestia_docs||[]).push([[2470],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return m}});var s=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,s,i=function(e,n){if(null==e)return{};var t,s,i={},a=Object.keys(e);for(s=0;s<a.length;s++)t=a[s],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)t=a[s],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var r=s.createContext({}),d=function(e){var n=s.useContext(r),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=d(e.components);return s.createElement(r.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return s.createElement(s.Fragment,{},n)}},p=s.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,r=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=d(t),m=i,h=p["".concat(r,".").concat(m)]||p[m]||u[m]||a;return t?s.createElement(h,o(o({ref:n},c),{},{components:t})):s.createElement(h,o({ref:n},c))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,o=new Array(a);o[0]=p;var l={};for(var r in n)hasOwnProperty.call(n,r)&&(l[r]=n[r]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var d=2;d<a;d++)o[d]=t[d];return s.createElement.apply(null,o)}return s.createElement.apply(null,t)}p.displayName="MDXCreateElement"},774:function(e,n,t){t.r(n),t.d(n,{assets:function(){return r},contentTitle:function(){return o},default:function(){return u},frontMatter:function(){return a},metadata:function(){return l},toc:function(){return d}});var s=t(3117),i=(t(7294),t(3905));const a={sidebar_label:"Couche de disponibilit\xe9 des donn\xe9es de Celestia"},o="Couche de disponibilit\xe9 des donn\xe9es de Celestia",l={unversionedId:"concepts/how-celestia-works/data-availability-layer",id:"concepts/how-celestia-works/data-availability-layer",title:"Couche de disponibilit\xe9 des donn\xe9es de Celestia",description:"Celestia est une couche de disponibilit\xe9 des donn\xe9es (DA) qui fournit une solution \xe9volutive au probl\xe8me de la disponibilit\xe9 des donn\xe9es. En raison de la nature sans permission des r\xe9seaux de blockchain, une couche de DA doit fournir un m\xe9canisme permettant aux couches d'ex\xe9cution et de consensus de v\xe9rifier, cryptographiquement, si les donn\xe9es de transaction sont effectivement disponibles.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/concepts/how-celestia-works/data-availability-layer.md",sourceDirName:"concepts/how-celestia-works",slug:"/concepts/how-celestia-works/data-availability-layer",permalink:"/fr/concepts/how-celestia-works/data-availability-layer",draft:!1,editUrl:"https://github.com/celestiaorg/docs/tree/main/docs/concepts/how-celestia-works/data-availability-layer.md",tags:[],version:"current",frontMatter:{sidebar_label:"Couche de disponibilit\xe9 des donn\xe9es de Celestia"},sidebar:"concepts",previous:{title:"Blockchains Monolithique vs Modulaires",permalink:"/fr/concepts/how-celestia-works/monolithic-vs-modular"},next:{title:"Cycle de vie d'une transaction Celestia App",permalink:"/fr/concepts/how-celestia-works/transaction-lifecycle"}},r={},d=[{value:"\xc9chantillonnage de la disponibilit\xe9 des donn\xe9es (DAS)",id:"\xe9chantillonnage-de-la-disponibilit\xe9-des-donn\xe9es-das",level:2},{value:"Scalabilit\xe9",id:"scalabilit\xe9",level:3},{value:"Preuves de fraude de donn\xe9es \xe9tendues de mani\xe8re incorrecte",id:"preuves-de-fraude-de-donn\xe9es-\xe9tendues-de-mani\xe8re-incorrecte",level:3},{value:"Les Arbres de Merkle Namespaced (NMTs)",id:"les-arbres-de-merkle-namespaced-nmts",level:2},{value:"Construire une blockchain PoS pour la couche d&#39;accessibilit\xe9",id:"construire-une-blockchain-pos-pour-la-couche-daccessibilit\xe9",level:2},{value:"Fournir l&#39;Accessibilit\xe9 des Donn\xe9es",id:"fournir-laccessibilit\xe9-des-donn\xe9es",level:3}],c={toc:d};function u(e){let{components:n,...a}=e;return(0,i.kt)("wrapper",(0,s.Z)({},c,a,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"couche-de-disponibilit\xe9-des-donn\xe9es-de-celestia"},"Couche de disponibilit\xe9 des donn\xe9es de Celestia"),(0,i.kt)("p",null,"Celestia est une couche de disponibilit\xe9 des donn\xe9es (DA) qui fournit une solution \xe9volutive au ",(0,i.kt)("a",{parentName:"p",href:"https://coinmarketcap.com/alexandria/article/what-is-data-availability"},"probl\xe8me de la disponibilit\xe9 des donn\xe9es"),". En raison de la nature sans permission des r\xe9seaux de blockchain, une couche de DA doit fournir un m\xe9canisme permettant aux couches d'ex\xe9cution et de consensus de v\xe9rifier, cryptographiquement, si les donn\xe9es de transaction sont effectivement disponibles."),(0,i.kt)("p",null,"Deux caract\xe9ristiques cl\xe9s de la couche DA de Celestia sont ",(0,i.kt)("a",{parentName:"p",href:"https://blog.celestia.org/celestia-mvp-release-data-availability-sampling-light-clients/"},"l'\xe9chantillonnage de la disponibilit\xe9 des donn\xe9es")," (DAS) et ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/celestiaorg/nmt"},'les arbres de Merkle "Namespaced"')," (NMTs). Les deux fonctionnalit\xe9s sont des solutions novatrices de mise \xe0 l'\xe9chelle de la blockchain : le DAS permet aux light nodes de v\xe9rifier la disponibilit\xe9 des donn\xe9es sans avoir \xe0 t\xe9l\xe9charger un bloc entier ; les NMTs permettent \xe0 des couches d'ex\xe9cution et de r\xe8glement sur Celestia de t\xe9l\xe9charger des transactions qui ne sont pertinentes que pour elles."),(0,i.kt)("h2",{id:"\xe9chantillonnage-de-la-disponibilit\xe9-des-donn\xe9es-das"},"\xc9chantillonnage de la disponibilit\xe9 des donn\xe9es (DAS)"),(0,i.kt)("p",null,"En g\xe9n\xe9ral, les light nodes ne t\xe9l\xe9chargent que les en-t\xeates de blocs qui contiennent des engagements (c.-\xe0-d. les racines Merkle) des donn\xe9es de bloc (c.-\xe0-d. la liste des transactions)."),(0,i.kt)("p",null,"Pour rendre le DAS possible, Celestia utilise un syst\xe8me d'encodage Reed-Salomon \xe0 deux dimensions pour encoder les donn\xe9es du bloc : chaque donn\xe9e de bloc est divis\xe9e en tron\xe7on k x k , arrang\xe9 dans une matrice k \xd7 k, et \xe9tendu avec la parit\xe9 de donn\xe9es dans une matrice \xe9tendue de 2k \xd7 2k en appliquant plusieurs fois l'encodage Reed-Solomon."),(0,i.kt)("p",null,"Ensuite, les racines de Merkle 4k s\xe9par\xe9es sont calcul\xe9es pour les lignes et les colonnes de la matrice \xe9tendue\u202f; la racine de Merkle de ces racines de Merkle est utilis\xe9e comme l'engagement des donn\xe9es du bloc dans les en-t\xeates de bloc."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Encodage Reed-Solomon (RS) 2D",src:t(1047).Z,width:"1452",height:"706"})),(0,i.kt)("p",null,"Pour v\xe9rifier que la donn\xe9e est disponible, les light nodes Celestia \xe9chantillonnent les paquets de donn\xe9es 2k x 2k."),(0,i.kt)("p",null,"Chaque light node choisit au hasard un ensemble de coordonn\xe9es uniques dans la matrice \xe9tendue et envoie une requ\xeate aux full nodes pour les paquets de donn\xe9es et aux preuves de Merkle correspondant \xe0 ces coordonn\xe9es. Si un light node re\xe7oit une r\xe9ponse valide pour chaque \xe9chantillon r\xe9clam\xe9 au full node, alors il y a une ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/celestiaorg/celestia-node/issues/805#issuecomment-1150081075"},"haute probabilit\xe9")," que toutes les donn\xe9es du bloc soient disponibles."),(0,i.kt)("p",null,"\xc9galement, chaque morceau de donn\xe9e re\xe7u avec une preuve de Merkle correcte est transmise au r\xe9seau. De ce fait, aussi longtemps que les light nodes Celestia \xe9chantillonnent ensemble assez de morceaux de donn\xe9es (c-\xe0-d, au moins k x k morceaux uniques), le bloc entier peut \xeatre r\xe9tabli par les full nodes."),(0,i.kt)("p",null,"Pour plus de d\xe9tails sur l'\xe9chantillonnage de la disponibilit\xe9 des donn\xe9es, vous pouvez regarder cet ",(0,i.kt)("a",{parentName:"p",href:"https://arxiv.org/abs/1809.09044"}," article"),"."),(0,i.kt)("h3",{id:"scalabilit\xe9"},"Scalabilit\xe9"),(0,i.kt)("p",null,"L'\xe9chantillonnage de la disponibilit\xe9 des donn\xe9es permet \xe0 Celestia d'augmenter la capacit\xe9 de la couche de disponibilit\xe9 des donn\xe9es. L'\xe9chantillonnage de la disponibilit\xe9 des donn\xe9es peut \xeatre effectu\xe9 par des light nodes aux ressources limit\xe9es puisque chaque light node \xe9chantillonne seulement une petite partie des donn\xe9es de chaque bloc. Plus il y a de light nodes dans le r\xe9seau et plus ils peuvent t\xe9l\xe9charger et stocker de donn\xe9es ensemble."),(0,i.kt)("p",null,"Cela signifie qu'en augmentant le nombre de light nodes r\xe9alisant l'\xe9chantillonnage de la disponibilit\xe9 des donn\xe9es, on permet des blocs plus importants (c-\xe0-d avec davantage de transactions), tout en conservant possible l'\xe9chantillonnage de la disponibilit\xe9 des donn\xe9es par des light nodes aux ressources limit\xe9es. Cependant, afin de valider en-t\xeates de blocs, les Light nodes Celestia doivent t\xe9l\xe9charger les 4k racines interm\xe9diaires de Merkle."),(0,i.kt)("p",null,"Pour une taille de donn\xe9e de bloc de n octets, cela signifie que chaque light node doit t\xe9l\xe9charger O(n) octets. C'est pourquoi chaque am\xe9lioration de la bande passante allou\xe9e aux light nodes de Celestia a un effet quadratique sur le d\xe9bit de la couche de disponibilit\xe9 des donn\xe9es de Celestia."),(0,i.kt)("h3",{id:"preuves-de-fraude-de-donn\xe9es-\xe9tendues-de-mani\xe8re-incorrecte"},"Preuves de fraude de donn\xe9es \xe9tendues de mani\xe8re incorrecte"),(0,i.kt)("p",null,"La n\xe9cessit\xe9 de t\xe9l\xe9charger les racines de Merkle des 4k interm\xe9diaires est une cons\xe9quence de l'usage d'un sch\xe9ma d'encodage de Reed-Solomon \xe0 deux dimensions. De mani\xe8re alternative, l'\xe9chantillonnage de la disponibilit\xe9 des donn\xe9es pourrait \xeatre con\xe7u avec un encodage Reed-Solomon standard (c-\xe0-d en une dimension), o\xf9 la donn\xe9e originelle est divis\xe9e en k morceaux de donn\xe9es et \xe9tendue avec k morceaux de donn\xe9es paritaires suppl\xe9mentaires. Puisque l'engagement des donn\xe9es du bloc est la racine de Merkle des morceaux de donn\xe9es du 2k qui en r\xe9sulte, les light nodes n'ont plus \xe0 t\xe9l\xe9charger O(n) octets pour valider les en-t\xeates de bloc."),(0,i.kt)("p",null,"La contrepartie de l'encodage Reed-Solomon standard est de g\xe9rer les producteurs de blocs malveillants qui produisent les donn\xe9es \xe9tendues de mani\xe8re incorrecte."),(0,i.kt)("p",null,"C'est toutefois possible puisque ",(0,i.kt)("strong",{parentName:"p"},"Celestia ne n\xe9cessite pas qu'une majorit\xe9 du consensus (c.-\xe0-d. des producteurs de blocs) soit honn\xeate pour garantir la disponibilit\xe9 des donn\xe9es.")," De ce fait, si la donn\xe9e \xe9tendue est invalide, la donn\xe9e originale pourrait ne pas \xeatre r\xe9cup\xe9rable, m\xeame si les light nodes \xe9chantillonnaient des morceaux uniques suffisants (c.-\xe0-d. au moins k pour un encodage standard et k \xd7 k pour un encodage \xe0 deux dimensions)."),(0,i.kt)("p",null,"Comme solution, ",(0,i.kt)("em",{parentName:"p"},"les preuves de fraude de donn\xe9es \xe9tendues de mani\xe8re incorrecte")," permettent aux light nodes de rejeter les blocs dont les donn\xe9es \xe9tendues sont invalides. Ces preuves n\xe9cessitent de reconstruire l'encodage et de v\xe9rifier les incoh\xe9rences. Avec l'encodage Reed-Solomon standard, cela implique de t\xe9l\xe9charger les donn\xe9es originelles, c.-\xe0-d. O(n) octets. A contrario, avec l'encodage Reed-Solomon \xe0 deux dimensions, seul O(n ) octets sont n\xe9cessaires puisque suffisants pour v\xe9rifier une ligne ou une colonne de la matrice \xe9tendue."),(0,i.kt)("h2",{id:"les-arbres-de-merkle-namespaced-nmts"},"Les Arbres de Merkle Namespaced (NMTs)"),(0,i.kt)("p",null,"Celestia cloisonne les donn\xe9es d'un bloc en plusieurs espaces de noms, un pour chaque application (par exemple, rollup) en utilisant la couche d'accessibilit\xe9 des donn\xe9es. Il en r\xe9sulte que chaque application a besoin de t\xe9l\xe9charger uniquement ses propres donn\xe9es et peut ignorer toutes les autres applications."),(0,i.kt)("p",null,"Pour ce travail, la couche d'accessibilit\xe9 des donn\xe9es doit \xeatre en mesure de prouver que les donn\xe9es fournies sont compl\xe8tes, c.-\xe0-d. que toutes les donn\xe9es d'un espace de nom sont revenues. Pour y arriver, Celestia utilise les Arbres de Merkle Namespaced (NMTs)."),(0,i.kt)("p",null,"Un NMT est un arbre de Merkle dont les feuilles sont ordonn\xe9es par les identifiants de l'espace de nom et la fonction hash modifi\xe9e de sorte que chaque noeud de l'arbre inclue la plage d'espaces de noms de tous ses descendants. La figure suivante montre un exemple de MNT de hauteur trois (c.-\xe0-d. huit morceaux de donn\xe9es). La donn\xe9e est divis\xe9e en trois espaces de noms."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Arbre de Merkle Namespaced",src:t(8797).Z,width:"1476",height:"594"})),(0,i.kt)("p",null,"Quand une application requiert la donn\xe9e pour l'espace de nom 2, la couche d'accessibilit\xe9 des donn\xe9es doit fournir les morceaux de donn\xe9es ",(0,i.kt)("inlineCode",{parentName:"p"},"D3"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"D4"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"D5"),", et ",(0,i.kt)("inlineCode",{parentName:"p"},"D6")," et les noeuds ",(0,i.kt)("inlineCode",{parentName:"p"},"N2"),",",(0,i.kt)("inlineCode",{parentName:"p"},"N8")," et ",(0,i.kt)("inlineCode",{parentName:"p"},"N7")," comme preuve (notez que l'application a d\xe9j\xe0 la racine ",(0,i.kt)("inlineCode",{parentName:"p"},"N14")," provenant de l'en-t\xeate du bloc)."),(0,i.kt)("p",null,"Il en r\xe9sulte que l'application est en capacit\xe9 de v\xe9rifier que la donn\xe9e fournie fait bien partie de la donn\xe9e du bloc. De plus, l'application peut v\xe9rifier que toute la donn\xe9e pour le namespace 2 a \xe9t\xe9 fournie. Si la couche d'accessibilit\xe9 des donn\xe9es fournit par exemple les morceaux de donn\xe9es ",(0,i.kt)("inlineCode",{parentName:"p"},"D4")," et ",(0,i.kt)("inlineCode",{parentName:"p"},"D5"),", elle doit \xe9galement fournir les nodes ",(0,i.kt)("inlineCode",{parentName:"p"},"N12")," et ",(0,i.kt)("inlineCode",{parentName:"p"},"N11")," en tant que preuves. Cependant, l'application peut identifier que les donn\xe9es sont incompl\xe8tes en v\xe9rifiant la plage du Napespace des deux nodes, c.-\xe0-d. que ",(0,i.kt)("inlineCode",{parentName:"p"},"N12")," et ",(0,i.kt)("inlineCode",{parentName:"p"},"N11")," ont tous les deux des parties descendantes du Namespace 2."),(0,i.kt)("p",null,"Pour davantage de d\xe9tails sur les NMTs, vous pouvez consulter cet ",(0,i.kt)("a",{parentName:"p",href:"https://arxiv.org/abs/1905.09274"},"article"),"."),(0,i.kt)("h2",{id:"construire-une-blockchain-pos-pour-la-couche-daccessibilit\xe9"},"Construire une blockchain PoS pour la couche d'accessibilit\xe9"),(0,i.kt)("h3",{id:"fournir-laccessibilit\xe9-des-donn\xe9es"},"Fournir l'Accessibilit\xe9 des Donn\xe9es"),(0,i.kt)("p",null,"La couche d'accessibilit\xe9 des donn\xe9es Celestia consiste en une blockchain PoS. Celestia appelle une blockchain \"",(0,i.kt)("a",{parentName:"p",href:"https://github.com/celestiaorg/celestia-app"},"Celestia App"),"\" une application qui permet des transactions pour faciliter la couche d'accessibilit\xe9 des donn\xe9es et est construite en utilisant le ",(0,i.kt)("a",{parentName:"p",href:"https://docs.cosmos.network/v0.44/"},"Cosmos SDK"),". Le sch\xe9ma suivant montre les diff\xe9rents composants de Celestia App."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Principaux composants de Celestia App",src:t(6512).Z,width:"668",height:"640"})),(0,i.kt)("p",null,"Celestia App est construite sur le ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/celestiaorg/celestia-core"},"Celestia Core"),", une version modifi\xe9e du ",(0,i.kt)("a",{parentName:"p",href:"https://arxiv.org/abs/1807.04938"},"consensus algorithmique Tendermint"),". Parmi les plus importants changements apport\xe9s \xe0 Tendermint, Celestia Core:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Permet le codage d'effacement des donn\xe9es d'un bloc (en utilisant le sch\xe9ma d'encodage Reed-Solomon en deux dimensions)."),(0,i.kt)("li",{parentName:"ul"},"Replace l'arbre de Merkle habituel utilis\xe9 par Tendermint pour stocker les donn\xe9es avec un ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/celestiaorg/nmt"},"arbre de Merkle Namespaced")," qui permet aux couches d'au-dessus (c.-\xe0-d. d'ex\xe9cution ou de r\xe8glement) de seulement t\xe9l\xe9charger les donn\xe9es n\xe9cessaires (pour plus de d\xe9tails, voir la section ci-dessous d\xe9crivant les cas d'usage).")),(0,i.kt)("p",null,"Pour plus de d\xe9tails sur les changements par rapport \xe0 Tendermint, consulter ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/celestiaorg/celestia-core/tree/v0.34.x-celestia/docs/celestia-architecture"},"ADRs"),". \xc0 noter que les nodes de Celestia Core utilisent toujours le r\xe9seau Tendermint en pair-\xe0-pair."),(0,i.kt)("p",null,"De mani\xe8re similaire \xe0 Tendermint, Celestia Core est connect\xe9 \xe0 la couche d'application (c.-\xe0-d., la machine d'\xe9tat) par ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/tendermint/tendermint/tree/master/spec/abci%2B%2B"},"ABCI++"),", une \xe9volution majeure de ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/tendermint/tendermint/tree/master/spec/abci"},"ABCI")," (Interface d'Application Blockchain)."),(0,i.kt)("p",null,"La State Machine Celestia App est n\xe9cessaire pour ex\xe9cuter la logique PoS et pour permettre la gouvernance de la couche d'accessibilit\xe9 des donn\xe9es."),(0,i.kt)("p",null,"Cependant, l\u2019app Celestia est dite agnostique en ce qui concerne les donn\xe9es -- la machine d'\xe9tat ne valide ni ne stocke les donn\xe9es qui sont rendues accessibles par l\u2019app Celestia."))}u.isMDXComponent=!0},6512:function(e,n,t){n.Z=t.p+"assets/images/celestia-app-94d3b9baaf383a59904fe08da53afa59.png"},8797:function(e,n,t){n.Z=t.p+"assets/images/nmt-7c7465b2182089e26c575e45684ae07f.png"},1047:function(e,n,t){n.Z=t.p+"assets/images/reed-solomon-encoding-f362028ac31a62b75ff08bd2d4212427.png"}}]);