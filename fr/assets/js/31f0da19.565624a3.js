"use strict";(self.webpackChunkcelestia_docs=self.webpackChunkcelestia_docs||[]).push([[4960],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return v}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),u=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(o.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=u(n),v=r,m=d["".concat(o,".").concat(v)]||d[v]||c[v]||i;return n?a.createElement(m,l(l({ref:t},p),{},{components:n})):a.createElement(m,l({ref:t},p))}));function v(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var u=2;u<i;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1933:function(e,t,n){n.r(t),n.d(t,{assets:function(){return o},contentTitle:function(){return l},default:function(){return c},frontMatter:function(){return i},metadata:function(){return s},toc:function(){return u}});var a=n(3117),r=(n(7294),n(3905));const i={},l=void 0,s={unversionedId:"developers/instantiate-testnet",id:"developers/instantiate-testnet",title:"instantiate-testnet",description:"- - -",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/developers/instantiate-testnet.md",sourceDirName:"developers",slug:"/developers/instantiate-testnet",permalink:"/fr/developers/instantiate-testnet",draft:!1,editUrl:"https://github.com/celestiaorg/docs/tree/main/docs/developers/instantiate-testnet.md",tags:[],version:"current",frontMatter:{},sidebar:"developers",previous:{title:"wallet",permalink:"/fr/developers/wallet"},next:{title:"celestia-app-commands",permalink:"/fr/developers/celestia-app-commands"}},o={},u=[{value:"Hardware Requis",id:"hardware-requis",level:2},{value:"Configurer les d\xe9pendances",id:"configurer-les-d\xe9pendances",level:2},{value:"Installation de Celestia App",id:"installation-de-celestia-app",level:2},{value:"Faire tourner un testnet sur Celestia",id:"faire-tourner-un-testnet-sur-celestia",level:2},{value:"Optionnel: R\xe9initialiser le r\xe9pertoire de travail",id:"optionnel-r\xe9initialiser-le-r\xe9pertoire-de-travail",level:3},{value:"Initialiser un r\xe9pertoire de travail",id:"initialiser-un-r\xe9pertoire-de-travail",level:3},{value:"Cr\xe9er une nouvelle cl\xe9",id:"cr\xe9er-une-nouvelle-cl\xe9",level:3},{value:"Ajouter le nom de cl\xe9 du compte Genesis",id:"ajouter-le-nom-de-cl\xe9-du-compte-genesis",level:3},{value:"Facultatif : Ajouter d&#39;autres validateurs",id:"facultatif--ajouter-dautres-validateurs",level:3},{value:"Cr\xe9er la transaction Genesis pour la nouvelle cha\xeene",id:"cr\xe9er-la-transaction-genesis-pour-la-nouvelle-cha\xeene",level:3},{value:"Cr\xe9ation du fichier JSON Genesis",id:"cr\xe9ation-du-fichier-json-genesis",level:3},{value:"Modifiez votre fichier de configuration",id:"modifiez-votre-fichier-de-configuration",level:3},{value:"Instancier le r\xe9seau",id:"instancier-le-r\xe9seau",level:3}],p={toc:u};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("hr",null),(0,r.kt)("p",null,"sidebar_label: Cr\xe9er un testnet Celestia"),(0,r.kt)("hr",null),(0,r.kt)("h1",{id:"guide-dinstanciation-du-r\xe9seau-celestia-app"},"Guide d'instanciation du r\xe9seau Celestia App"),(0,r.kt)("p",null,"Ce guide est destin\xe9 \xe0 aider \xe0 instancier un nouveau r\xe9seau de test et \xe0 suivre les \xe9tapes correctes pour le faire avec Celestia-App. Vous ne devriez suivre ce guide que si vous voulez exp\xe9rimenter avec votre propre r\xe9seau test Celestia ou si vous voulez tester de nouvelles fonctionnalit\xe9s \xe0 d\xe9velopper en tant que d\xe9veloppeur."),(0,r.kt)("h2",{id:"hardware-requis"},"Hardware Requis"),(0,r.kt)("p",null,"Vous pouvez suivre les exigences mat\xe9rielles ",(0,r.kt)("a",{parentName:"p",href:"/fr/nodes/validator-node#hardware-requirements"},"ici"),"."),(0,r.kt)("h2",{id:"configurer-les-d\xe9pendances"},"Configurer les d\xe9pendances"),(0,r.kt)("p",null,"Vous pouvez configurer les d\xe9pendances en suivant le guide ",(0,r.kt)("a",{parentName:"p",href:"/fr/developers/environment"},"ici"),"."),(0,r.kt)("h2",{id:"installation-de-celestia-app"},"Installation de Celestia App"),(0,r.kt)("p",null,"Vous pouvez installer Celestia App en suivant le guide ",(0,r.kt)("a",{parentName:"p",href:"/fr/developers/celestia-app"},"ici"),"."),(0,r.kt)("h2",{id:"faire-tourner-un-testnet-sur-celestia"},"Faire tourner un testnet sur Celestia"),(0,r.kt)("p",null,"Si vous souhaitez cr\xe9er un r\xe9seau test rapide avec vos amis, vous pouvez suivre ces \xe9tapes. Sauf indication contraire, chaque \xe9tape doit \xeatre effectu\xe9e par tous ceux qui veulent participer \xe0 ce r\xe9seau test."),(0,r.kt)("h3",{id:"optionnel-r\xe9initialiser-le-r\xe9pertoire-de-travail"},"Optionnel: R\xe9initialiser le r\xe9pertoire de travail"),(0,r.kt)("p",null,"Si vous avez d\xe9j\xe0 initialis\xe9 un r\xe9pertoire de travail pour ",(0,r.kt)("inlineCode",{parentName:"p"},"celestia-appd")," dans le pass\xe9, vous devez le nettoyer avant de r\xe9initialiser un nouveau r\xe9pertoire. Vous pouvez le faire en ex\xe9cutant la commande suivante :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"celestia-appd tendermint unsafe-reset-all --home $HOME/.celestia-app\n")),(0,r.kt)("h3",{id:"initialiser-un-r\xe9pertoire-de-travail"},"Initialiser un r\xe9pertoire de travail"),(0,r.kt)("p",null,"Ex\xe9cutez la commande suivante :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"VALIDATOR_NAME=validator1\nCHAIN_ID=testnet\ncelestia-appd init $VALIDATOR_NAME --chain-id $CHAIN_ID\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"La valeur que nous utiliserons pour ",(0,r.kt)("inlineCode",{parentName:"li"},"$VALIDATOR_NAME")," est ",(0,r.kt)("inlineCode",{parentName:"li"},"validator1")," mais vous devriez choisir votre propre nom de node."),(0,r.kt)("li",{parentName:"ul"},"La valeur que nous utiliserons pour ",(0,r.kt)("inlineCode",{parentName:"li"},"$CHAIN_ID")," est ",(0,r.kt)("inlineCode",{parentName:"li"},"testnet"),". La ",(0,r.kt)("inlineCode",{parentName:"li"},"$CHAIN_ID")," doit rester la m\xeame pour tous ceux qui participent \xe0 ce r\xe9seau.")),(0,r.kt)("h3",{id:"cr\xe9er-une-nouvelle-cl\xe9"},"Cr\xe9er une nouvelle cl\xe9"),(0,r.kt)("p",null,"Ensuite, ex\xe9cutez la commande suivante:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"KEY_NAME=validator\ncelestia-appd keys add $KEY_NAME --keyring-backend test\n")),(0,r.kt)("p",null,"Cela cr\xe9era une nouvelle cl\xe9, avec un nom de votre choix. Enregistrez la sortie de cette commande quelque part ; vous aurez besoin de l'adresse g\xe9n\xe9r\xe9e ici plus tard. Ici, nous fixons la valeur de notre cl\xe9 ",(0,r.kt)("inlineCode",{parentName:"p"},"$KEY_NAME")," \xe0 ",(0,r.kt)("inlineCode",{parentName:"p"},"validator")," pour la d\xe9monstration."),(0,r.kt)("h3",{id:"ajouter-le-nom-de-cl\xe9-du-compte-genesis"},"Ajouter le nom de cl\xe9 du compte Genesis"),(0,r.kt)("p",null,"Ex\xe9cutez la commande suivante :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'CELES_AMOUNT="10000000000000000000000000utia"\ncelestia-appd add-genesis-account $KEY_NAME $CELES_AMOUNT --keyring-backend test\n')),(0,r.kt)("p",null,"Ici ",(0,r.kt)("inlineCode",{parentName:"p"},"$VALIDATOR_NAME")," est le m\xeame nom de cl\xe9 qu'avant ; et ",(0,r.kt)("inlineCode",{parentName:"p"},"$AMOUNT")," est quelque chose comme ",(0,r.kt)("inlineCode",{parentName:"p"},"10000000000000000000000000utia"),"."),(0,r.kt)("h3",{id:"facultatif--ajouter-dautres-validateurs"},"Facultatif : Ajouter d'autres validateurs"),(0,r.kt)("p",null,"Si d'autres participants de votre r\xe9seau test veulent \xe9galement \xeatre des validateurs, r\xe9p\xe9tez la commande ci-dessus avec le montant sp\xe9cifique pour leurs cl\xe9s publiques."),(0,r.kt)("p",null,"Une fois tous les validateurs ajout\xe9s, le fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"genesis.json")," est cr\xe9\xe9. Vous avez besoin de le partager avec tous les autres validateurs de votre testnet afin que tout le monde puisse passer \xe0 l'\xe9tape suivante."),(0,r.kt)("p",null,"Vous pouvez trouver le ",(0,r.kt)("inlineCode",{parentName:"p"},"genesis.json")," dans ",(0,r.kt)("inlineCode",{parentName:"p"},"$HOME/.celestia-app/config/genesis.json")),(0,r.kt)("h3",{id:"cr\xe9er-la-transaction-genesis-pour-la-nouvelle-cha\xeene"},"Cr\xe9er la transaction Genesis pour la nouvelle cha\xeene"),(0,r.kt)("p",null,"Ex\xe9cutez la commande suivante :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"STAKING_AMOUNT=1000000000utia\ncelestia-appd gentx $KEY_NAME $STAKING_AMOUNT --chain-id $CHAIN_ID \\\n  --keyring-backend test\n")),(0,r.kt)("p",null,"Cela cr\xe9era la transaction Genesis pour votre nouvelle cha\xeene. Ici, ",(0,r.kt)("inlineCode",{parentName:"p"},"$STAKING_AMOUNT")," doit \xeatre au moins \xe9gal \xe0 ",(0,r.kt)("inlineCode",{parentName:"p"},"1000000000utia"),". Si vous fournissez trop ou trop peu, vous rencontrerez une erreur lors du d\xe9marrage de votre Node."),(0,r.kt)("p",null,"Vous trouverez le fichier JSON gentx g\xe9n\xe9r\xe9 dans ",(0,r.kt)("inlineCode",{parentName:"p"},"$HOME/.celestia-\napp/config/gentx/gentx-$KEY_NAME.json")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Remarque : Si vous avez d'autres validateurs dans votre r\xe9seau, ils doivent \xe9galement ex\xe9cuter la commande ci-dessus avec le fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"genesis.json")," que vous avez partag\xe9 avec eux \xe0 l'\xe9tape pr\xe9c\xe9dente.")),(0,r.kt)("h3",{id:"cr\xe9ation-du-fichier-json-genesis"},"Cr\xe9ation du fichier JSON Genesis"),(0,r.kt)("p",null,"Une fois que tous les participants vous ont soumis leurs fichiers gentx JSON, vous allez mettre tous ces fichiers gentx dans le r\xe9pertoire suivant : ",(0,r.kt)("inlineCode",{parentName:"p"},"$HOME/. elestia-appd/config/gentx")," et utilisez-les pour cr\xe9er le fichier final ",(0,r.kt)("inlineCode",{parentName:"p"},"genesis.json"),"."),(0,r.kt)("p",null,"Une fois que vous avez ajout\xe9 les fichiers gentx de tous les particpants, lancez la commande suivante :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"celestia-appd collect-gentxs\n")),(0,r.kt)("p",null,"Cette commande va rechercher les fichiers gentx de ce d\xe9p\xf4t qui devraient \xeatre d\xe9plac\xe9s dans le r\xe9pertoire suivant ",(0,r.kt)("inlineCode",{parentName:"p"},"$HOME/.celestia-app/config/gentx"),"."),(0,r.kt)("p",null,"Elle mettra \xe0 jour le fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"genesis.json")," dans cet emplacement ",(0,r.kt)("inlineCode",{parentName:"p"},"$HOME/. elestia-app/config/genesis.json")," qui inclut maintenant le gentx des autres participants."),(0,r.kt)("p",null,"Vous devriez ensuite partager ce fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"genesis.json")," final avec tous les autres participants qui doivent l'ajouter \xe0 leur dossier ",(0,r.kt)("inlineCode",{parentName:"p"},"$HOME/.celestia-app/config"),"."),(0,r.kt)("p",null,"Tout le monde doit s'assurer de remplacer le fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"genesis.json")," existant par ce nouveau fichier cr\xe9\xe9."),(0,r.kt)("h3",{id:"modifiez-votre-fichier-de-configuration"},"Modifiez votre fichier de configuration"),(0,r.kt)("p",null,"Ouvrez le fichier suivant ",(0,r.kt)("inlineCode",{parentName:"p"},"$HOME/.celestia-app/config/config.toml")," pour le modifier."),(0,r.kt)("p",null,"\xc0 l'int\xe9rieur du fichier, ajoutez les autres participants en modifiant la ligne suivante pour inclure d'autres participants en tant que pairs persistants:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'# Liste de nodes s\xe9par\xe9s par des virgules pour garder les connexions persistantes \xe0\npersistent_peers = "[validator_address]@[ip_address]:[port],[validator_address]@[ip_address]:[port]"\n')),(0,r.kt)("p",null,"Vous pouvez trouver la ",(0,r.kt)("inlineCode",{parentName:"p"},"validator_address")," en ex\xe9cutant la commande suivante:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"celestia-appd tendermint show-node-id\n")),(0,r.kt)("p",null,"La sortie sera le code hexad\xe9cimal ",(0,r.kt)("inlineCode",{parentName:"p"},"validator_address"),". Par d\xe9faut, le ",(0,r.kt)("inlineCode",{parentName:"p"},"port")," est 26656."),(0,r.kt)("h3",{id:"instancier-le-r\xe9seau"},"Instancier le r\xe9seau"),(0,r.kt)("p",null,"Vous pouvez commencer \xe0 synchroniser votre node en ex\xe9cutant la commande suivante :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"celestia-appd start\n")),(0,r.kt)("p",null,"Maintenant vous avez un nouveau r\xe9seau test Celestia avec lequel jouer !"))}c.isMDXComponent=!0}}]);